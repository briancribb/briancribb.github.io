!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)},function(module,__webpack_exports__,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function tmc_throttle(delay,fn){var lastCall=0;return function(){var now=(new Date).getTime();if(!(now-lastCall<delay))return lastCall=now,fn.apply(void 0,arguments)}}function tmc_debounce(delay,fn){var timerId;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];timerId&&clearTimeout(timerId),timerId=setTimeout((function(){fn.apply(void 0,args),timerId=null}),delay)}}function encodeHtmlEntities(str){for(var buf=[],i=str.length-1;i>=0;i--)buf.unshift(["&#",str[i].charCodeAt(),";"].join(""));return buf.join("")}function decodeHtmlEntities(str){var full=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return str=str.replace(/&amp;/g,"&#38;").replace(/&quot;/g,"&#34;").replace(/&lt;/g,"&#60;").replace(/&gt;/g,"&#62;").replace(/&#8217;/g,"&#39;"),full?str.replace(/&#(\d+);/g,(function(match,dec){return String.fromCharCode(dec)})):str}function tmc_splitOnTags(str){var isEscaped=arguments.length>1&&void 0!==arguments[1]&&arguments[1],patOpen=/((<)\w+(>))/g,patClose=/((<\/)\w+(>))/g,strSplit="|*|";return isEscaped&&(patOpen=/((&#60;)\w+(&#62;))/g,patClose=/((&#60;\/)\w+(&#62;))/g),str.replace(patOpen,(function(match,dec){return strSplit+match})).replace(patClose,(function(match,dec){return match+strSplit})).split(strSplit)}function tmc_groupBy(arrSource,target){switch(_typeof(target)){case"string":return function byProperty(arr,key){var objResults={};return arr.forEach((function(item){if(item[key]){var propValue=item[key];objResults[propValue]||(objResults[propValue]=[]),objResults[propValue].push(item)}else objResults.other||(objResults.other=[]),objResults.other.push(item)})),objResults}(arrSource,target);case"function":return function byIterator(arr,iterator){var objResults={};return arr.forEach((function(item){var result=iterator(item);if(!result)return objResults.other||(objResults.other=[]),void objResults.other.push(item);objResults[result]||(objResults[result]=[]),objResults[result].push(item)})),objResults}(arrSource,target);default:throw"To group, you must pass in a string or an iterator function along with the source array."}}function search_typeof(obj){return(search_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==search_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__.r(__webpack_exports__);var webpack_search={init:function init(TMC){var _this=this;TMC.eventTasks.click.push(this.handleSearch),TMC.eventTasks.keyup.push(this.handleSearch),fetch(window.location.origin+"/search.json",{credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(response){return response.json()})).then((function(data){document.querySelectorAll("#tmc-search-input, #tmc-search-button").forEach((function(el){el.disabled=!1})),data.posts.forEach((function(post,index){post.key=index,post.excerpt&&(post.title=TMC.utils.decodeHtmlEntities(post.title.trim()),post.title=TMC.utils.decodeHtmlEntities(post.title.trim()),post.excerpt=TMC.utils.decodeHtmlEntities(post.excerpt.trim()),post.excerpt=TMC.utils.decodeHtmlEntities(post.excerpt.trim()),post.arrExcerpt=TMC.utils.splitOnTags(post.excerpt)),post.categories&&(post.categories=post.categories.split(",")),post.tags=post.tags?post.tags.split(","):[]})),_this.data=data,document.body.classList.contains("search")&&_this.buildSearchPage(_this.getMatches(_this.getQueryParams(),_this.data))}))},handleSearch:function handleSearch(evt){if(("click"===evt.type||"keyup"===evt.type)&&("keyup"!==evt.type||13===evt.keyCode)&&evt.target.classList.contains("tmc-search")){var str=null;if("click"===evt.type&&"tmc-search-button"===evt.target.id||"keyup"===evt.type&&"tmc-search-input"===evt.target.id?str=document.getElementById("tmc-search-input").value:"click"===evt.type&&"tmc-search-input"!==evt.target.id&&evt.target.dataset.terms&&(str=evt.target.dataset.terms),str)this.search.getSearchTerms(str).length&&(window.location=window.location.origin+"/search/?terms="+this.search.getSearchTerms(str).join("+"))}},getSearchTerms:function getSearchTerms(str){var invalidTerms=["the","and","from","with"],arrTerms=[];return(str=str.replace(","," ")).split(" ").forEach((function(term){term.length>1&&!invalidTerms.includes(term.toLowerCase())&&!arrTerms.includes(term.toLowerCase())&&arrTerms.push(term.toLowerCase())})),arrTerms.forEach((function(term){term=term.replace(/[^a-z0-9+]+/gi,"+")})),arrTerms},getQueryParams:function getQueryParams(){return new URLSearchParams(window.location.search.slice(1)).getAll("terms").join(" ").toLowerCase().split(" ")},getMatches:function getMatches(terms,data){var posts=data.posts.filter((function(post){var match=!0;return terms.forEach((function(term){post.title.toLowerCase().includes(term)||post.url.toLowerCase().includes(term)||post.excerpt&&post.excerpt.toLowerCase().includes(term)||post.tags.filter((function(tag){return tag.toLowerCase()===term.toLowerCase()})).length||(match=!1)})),match})),tags=data.tags.filter((function(tag){return terms.includes(tag.label)}));return{terms:terms,posts:posts,tags:tags}},buildSearchPage:function buildSearchPage(objMatches){document.getElementById("tmc-search-input").value=objMatches.terms.join(" ");var Results=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Results,React.Component);var _super=_createSuper(Results);function Results(props){var _this2;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Results),(_this2=_super.call(this,props)).state=objMatches,_this2}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Results,[{key:"_getMatches",value:function _getMatches(){return this.props.matches.posts.map((function(post){var excerpt=React.createElement("div",{dangerouslySetInnerHTML:{__html:post.excerpt}})||null,categories=null,tags=null;post.categories&&post.categories.length&&(categories=React.createElement("div",{className:"post-category"},React.createElement("strong",null,"Category:")," ",post.categories.join(", "))),post.tags&&post.tags.length&&(tags=React.createElement("div",{className:"post-tags mt-1"},React.createElement("strong",{className:"me-1"},"Tags:"),post.tags.map((function(tag,index){var link=location.origin+"/search/?terms="+tag;return React.createElement("span",{key:index},React.createElement("a",{role:"button",href:link},tag),index<post.tags.length-1&&", ")}))));var url=location.origin+post.url;return React.createElement("li",{key:post.key,className:"mb-3"},React.createElement("h2",{className:"post-title"},React.createElement("a",{title:post.title,href:url},post.title)),React.createElement("time",{className:"d-block text-muted mb-2",dateTime:"{post.date}"},React.createElement("small",null,post.dateString)),excerpt,categories,tags)}))}},{key:"render",value:function render(){var matches=this._getMatches(),matchMarkup=null,matchTitleText="Sorry, no matches for: ";return matches.length&&(matchTitleText="Matches for: ",matchMarkup=React.createElement("ul",{className:"post-list d-flex flex-column list-unstyled p-0 m-0"},matches)),React.createElement("div",{className:"matches"},React.createElement("h1",{className:"mb-3"},matchTitleText,this.props.matches.terms.join(", ")),matchMarkup)}}]),Results}();ReactDOM.render(React.createElement(Results,{matches:objMatches}),document.getElementById("search-results-container"))}},TMC={eventTasks:{click:[],keyup:[]},init:function init(){this.addListeners(),this.search.init(this)},addListeners:function addListeners(){var _this=this;$("body").on({click:function click(evt){_this.eventTasks.click.forEach((function(task){task.apply(_this,[evt])}))},keyup:function keyup(evt){_this.eventTasks.keyup.forEach((function(task){task.apply(_this,[evt])}))}})},manageResize:function manageResize(){var footerHeight=$("#main-footer").outerHeight(!0);$("body").css("padding-bottom",footerHeight+"px")},utils:function(){!function tmc_RAF(){window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)}}();var ut=function tmc_documentHidden(){var tmc={};return void 0!==document.hidden?(tmc.hidden="hidden",tmc.visibilityChange="visibilitychange",tmc.visibilityState="visibilityState"):void 0!==document.mozHidden?(tmc.hidden="mozHidden",tmc.visibilityChange="mozvisibilitychange",tmc.visibilityState="mozVisibilityState"):void 0!==document.msHidden?(tmc.hidden="msHidden",tmc.visibilityChange="msvisibilitychange",tmc.visibilityState="msVisibilityState"):void 0!==document.webkitHidden&&(tmc.hidden="webkitHidden",tmc.visibilityChange="webkitvisibilitychange",tmc.visibilityState="webkitVisibilityState"),tmc.document_hidden=document[tmc.hidden],tmc}();return ut.trans_end=function tmc_transEnd(){var end,st=document.body.style;return void 0!==st.transition?end="transitionend":void 0!==st.OTransition?end="oTransitionEnd":void 0!==st.MozTransition?end="transitionend":void 0!==st.WebkitTransition&&(end="webkitTransitionEnd"),end}(),ut.throttle=tmc_throttle,ut.debounce=tmc_debounce,ut.groupBy=tmc_groupBy,ut.encodeHtmlEntities=encodeHtmlEntities,ut.decodeHtmlEntities=decodeHtmlEntities,ut.splitOnTags=tmc_splitOnTags,ut}(),search:webpack_search};$(document).ready((function(){TMC.init()}))}]);